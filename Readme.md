# 절 명상 정진 (Bowing, Meditation, and Practice Tracker)

## 1. 앱 소개

**절 명상 정진**은 사용자의 수련을 체계적으로 돕기 위해 만들어진 안드로이드 애플리케이션입니다. 매일 하는 절 운동과 명상 시간을 기록하고, 100일 단위의 정진 현황을 한눈에 파악하며 수련을 이어갈 수 있도록 돕습니다.

이 앱은 세 가지 주요 기능으로 구성되어 있습니다.

- **절**: 절 운동의 횟수와 시간을 측정하고, 운동 간격을 조절하는 기능입니다.
- **명상**: 다양한 명상 시간을 설정하고, 타이머를 통해 명상에 집중할 수 있도록 돕는 기능입니다.
- **정진**: 100일 단위로 자신의 수련 기록을 꾸준히 작성하고 관리하는 기능입니다.

## 2. 주요 기능 요약

### [절] 탭

- **운동 횟수 및 시간 측정**: 시작 버튼을 누르면 운동 시간과 횟수가 자동으로 기록됩니다.
- **운동 간격 조절**: `<<`, `<`, `>`, `>>` 아이콘 버튼을 통해 소리가 울리는 간격(초)을 실시간으로 조절할 수 있습니다.
- **목표 설정**: '운동횟수(계획)'를 설정하여 목표 달성 시 운동이 자동으로 종료되도록 할 수 있습니다.
- **자동 저장**: 운동 중 변경된 '운동 간격'은 앱 종료 시 자동으로 저장되어 다음 실행 시에도 유지됩니다.
- **소리 알림**: 운동 간격마다 `jukbit.mp3` 소리가 재생되어 리듬을 유지할 수 있도록 돕습니다.
- **실적 관리**: 하루 동안의 모든 절 운동 횟수는 '금일운동실적'에 자동으로 누적되어 표시됩니다.

### [명상] 탭

- **명상 목록 관리**: "10분 명상", "30분 명상"이 기본으로 제공되며, 사용자가 원하는 시간과 이름으로 새로운 명상 목록을 자유롭게 추가, 수정, 삭제할 수 있습니다.
- **카운트다운 타이머**: 목록에서 원하는 명상을 선택하면, 설정된 시간부터 1초씩 줄어드는 타이머가 실행됩니다.
- **소리 알림**: 타이머가 00:00이 되면 `singing.mp3` 소리가 재생되어 명상 종료를 알려줍니다.
- **자동 기록**: 명상 화면을 나가면, 실제 명상을 진행한 시간이 분 단위로 계산되어 데이터베이스에 자동으로 저장됩니다.

### [정진] 탭 (100일 정진)

- **100일 현황판**: 1일부터 100일까지의 기록 현황을 5x20 그리드 형태로 한눈에 볼 수 있습니다.
- **다회차 지원**: 100일 정진을 여러 번 도전할 수 있도록 '회차' 기능이 제공됩니다. (최초 3회차 기본 생성)
- **회차 관리**: `[+회차추가]`, `[현재 회차 삭제]` 버튼을 통해 회차를 자유롭게 관리할 수 있습니다.
- **상세 기록 작성**: 날짜 칸을 클릭하면, 그날의 '절' 횟수와 '명상' 시간이 자동으로 입력된 상세 기록 화면으로 이동합니다. 사용자는 내용을 자유롭게 수정하고 저장할 수 있습니다.
- **날짜 수정**: '정진 기록' 화면에서 날짜를 직접 선택하고 수정할 수 있습니다.

## 3. 화면별 상세 내용

### [절] 탭 메인
- **UI 구성**: `운동횟수`, `운동시간`, `운동간격(초)`, `운동횟수(계획)`, `금일운동실적` 5개의 정보 카드가 표시됩니다.
- **버튼 로직**:
    1.  **초기 상태**: `[시작]`, `[종료]` 버튼이 표시됩니다. `[종료]` 버튼 클릭 시 앱이 종료됩니다.
    2.  **운동 진행 중**: `[시작]` 버튼을 누르면 `[정지]` 버튼 하나만 표시됩니다. 운동 시간과 횟수가 기록되기 시작합니다.
    3.  **일시정지 상태**: `[정지]` 버튼을 누르면 `[계속]`, `[초기화]`, `[종료]` 버튼이 표시됩니다.
        - `[계속]`: 운동을 다시 시작합니다.
        - `[초기화]`: 현재 운동 기록(횟수, 시간)만 초기화하고 일시정지 상태를 유지합니다.
        - `[종료]`: 기록 저장 여부를 묻는 확인창이 나타난 후, 선택에 따라 기록을 저장하고 앱을 종료합니다.
- **화면 이동**: `[운동횟수(계획)]` 또는 `[금일운동실적]` 카드를 클릭하면 각각의 상세 화면으로 이동합니다.

### [명상] 탭 메인
- **UI 구성**: 저장된 명상 목록이 리스트 형태로 표시됩니다.
- **화면 이동**:
    - 목록의 항목을 클릭하면 해당 명상의 타이머 화면으로 이동합니다.
    - 항목의 `[수정]` 버튼을 클릭하면 "새로운 명상" 화면으로 이동하여 내용을 수정합니다.
- **버튼**: `[+ 추가하기]` 버튼을 누르면 새로운 명상을 등록하는 화면으로, `[종료]` 버튼을 누르면 앱이 종료됩니다.

### "새로운 명상" 화면 (추가/수정)
- **UI 구성**: 명상 이름 입력란, 기간(시간) 조절 버튼, 등록/수정 버튼, 삭제 버튼(수정 시에만)으로 구성됩니다.
- **이름 기본값**: 새로운 명상을 추가할 때, 기존 목록을 분석하여 "명상1", "명상2"... 와 같이 자동으로 다음 순번의 이름이 제안됩니다.
- **시간 조절**: `<<`(-5분), `<`(-1분), `>`(+1분), `>>`(+5분) 아이콘 버튼으로 명상 시간을 조절합니다.
- **삭제**: `[삭제]` 버튼 클릭 시, 확인 다이얼로그를 거쳐 해당 명상 목록을 영구적으로 삭제합니다.

### "명상 시작" 화면
- **UI 구성**: 남은 시간을 보여주는 카운트다운 타이머와 제어 버튼들로 구성됩니다.
- **버튼 로직**:
    1.  **진행 중**: `||` (일시정지) 아이콘 버튼이 표시됩니다.
    2.  **일시정지 상태**: `X` (닫기), `>` (재생) 아이콘 버튼이 표시됩니다.
        - `X` (닫기): 현재까지 진행한 명상 시간을 분 단위로 계산하여 데이터베이스에 저장한 후, 이전 화면(명상 목록)으로 돌아갑니다.
        - `>` (재생): 타이머를 다시 시작합니다.
- **뒤로가기**: 화면 좌측 상단의 `[< 뒤로가기]` 버튼으로도 명상 시간을 저장하고 나갈 수 있습니다.

### [정진] 탭 메인 (100일 정진)
- **UI 구성**: 상단에는 회차를 선택하는 드롭다운(`Spinner`), 중앙에는 100일 현황판 그리드, 하단에는 `[+ 회차추가]`, `[현재 회차 삭제]` 버튼이 있습니다.
- **회차 관리**: 드롭다운을 통해 원하는 회차의 기록을 볼 수 있으며, 하단 버튼으로 회차를 추가하거나 현재 선택된 회차를 삭제할 수 있습니다. (삭제/추가 시 확인 다이얼로그 표시)
- **현황판**: 100개의 칸으로 구성되며, 기록을 저장한 날짜는 숫자 아래에 `MM-dd` 형식으로 날짜가 함께 표시됩니다.
- **화면 이동**: 각 날짜 칸을 클릭하면 "정진 기록" 상세 화면으로 이동합니다.

### "정진 기록" 화면
- **UI 구성**: 회차/일차 정보, 날짜 선택 필드, 내용 입력 필드, 저장 버튼, 뒤로가기 버튼으로 구성됩니다.
- **데이터 자동 입력**: 화면 진입 시, **오늘 날짜**와 **오늘 기록한 '절'과 '명상'의 총합**이 기본 텍스트로 자동 입력됩니다. (`절 : 00
명상 : 00분`)
- **데이터 수정**: 날짜 필드를 클릭하면 달력(DatePickerDialog)이 나타나 날짜를 수정할 수 있으며, 내용도 자유롭게 수정하여 저장할 수 있습니다.

## 4. 기술 스택 및 구현

- **언어**: Kotlin
- **아키텍처**: MVVM (Model-View-ViewModel)
- **UI**: Android Views (XML), ConstraintLayout, Material Design 3 Components
- **네비게이션**: Jetpack Navigation Component
- **데이터베이스**: Jetpack Room (영구 데이터 저장)
- **비동기 처리**: Kotlin Coroutines & Flow
- **생명주기 관리**: ViewModel, LiveData

## 5. 설치 및 실행

1.  프로젝트를 Android Studio에서 엽니다.
2.  `app/src/main/res/raw` 폴더에 다음 두 개의 사운드 파일을 추가합니다.
    -   `jukbit.mp3` (절 운동 시 사용)
    -   `singing.mp3` (명상 종료 시 사용)
3.  `app/src/main/res/drawable` 폴더에 `logo.png` 또는 `logo.jpg` 파일을 앱 아이콘으로 추가합니다.
4.  프로젝트를 빌드하고 실행합니다.

---